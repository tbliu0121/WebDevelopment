<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Set</title>
</head>

<body>
  <script>
    /***           Set()
     *   - 实现了iterator接口，因此可以使用扩展运算符和for of进行遍历。
     * 
     *   - size: 返回元素的个数。
     *   - add(): 增加一个元素，返回当期集合。
     *   - delete(): 删除元素。
     *   - has(): 检测集合中是否含有某个元素, 返回一个布尔值。
    */

    let s01 = new Set();
    console.log(s01, typeof s01);

    // 构造函数接受的参数为一个可迭代数据, 一般是一个数组。
    let s02 = new Set([1, 2, 1, 3, 5, 5]);
    console.log(s02);
    s02.add(8);
    console.log(s02);

    console.log(s02.has(5));     // true
    console.log(s02.delete(3));  // true

    /***    set的应用    ****/
    // 01 数组去重
    const arr = [1, 1, 5, 8, 9, true, true, false];
    let res = [...new Set(arr)];
    console.log(res);

    // 02 交集
    let arr01 = [4, 5, 6, 5, 6];
    let arr02 = [1, 2, 3, 4, 5];
    let res02 = [...new Set(arr01)].filter(item => new Set(arr02).has(item));
    console.log(res02);

    // 03 并集
    let union = [...new Set([...arr01, ...arr02])];
    console.log(union);  // [4, 5, 6, 1, 2, 3]

    // 04 差集
    // arr01 - arr02: arr01里面有而arr02里面没有的, arr02 - arr01则相反
    let diff = [...new Set(arr01)].filter(item => !new Set(arr02).has(item));  // arr01 - arr02
    console.log(diff);  // [6]
  </script>

</body>

</html>